@using StartLine_social_network.ViewModels
@model EditUserViewModel

<a>Profile</a>
<div class="media flex-wrap mb-0 align-items-center">
    @{
    var imageUrl = string.IsNullOrEmpty(Model.ProfileImageUrl) ? "/resources/avatar-male.jpg" : Model.ProfileImageUrl;
    }
<img alt="Image" src="@imageUrl" class="avatar avatar-lg mb-3 mb-md-0" />
<div class="media-body">
 <form asp-action="EditProfile" enctype="multipart/form-data">
    <input type="hidden"/>
    <label asp-for="Image" class="custom-file mb-2" for="file2">
    <input asp-for="Image" type="file" id="file2" class="custom-file-input height-0" oninput="submitProfileImage();" />
        <span class="btn btn-primary">
            <i class="icon-upload-to-cloud">&nbsp;</i>Upload
        </span>
    <span asp-validation-for="Image" class="text-danger"></span>
        <button id="submit-image-button" type="submit" hidden></button>
    </label>
        <div>
            <small>For best results, use an image at least 256px by 256px in either .jpg or .png format</small>
        </div>
    <input asp-for="Address!.City" hidden />
    <input asp-for="Address!.Street" hidden />
    <input asp-for="Address!.Province" hidden />
    <input asp-for="ProfileName" hidden />
</form>
                             
<div class="col">
    <h5>Profile Information</h5>
</div> 
  </div>
<form asp-action="EditProfile" method="post" class="row">
    <div class="col-6">
        <div class="form-group">
            <label asp-for="Address.City">City:</label>
            <input asp-for="Address.City" type="text" class="form-control form-control-lg" />
            <span asp-validation-for="Address.City" class="text-danger"></span>
        </div>
    </div>
    <div class="col-6">
        <div class="form-group">
            <label asp-for="Address.Street">Street:</label>
            <input asp-for="Address.Street" type="text" class="form-control form-control-lg" />
            <span asp-validation-for="Address.Street" class="text-danger"></span>
        </div>
    </div>
    <div class="col-6">
    <div class="form-group">
        <label asp-for="Address.Province">Province:</label>
        <input asp-for="Address.Province" type="text" class="form-control form-control-lg" />
        <span asp-validation-for="Address.Province" class="text-danger"></span>
   </div>
</div>
<div class="col-6">
    <div class="form-group">
        <label asp-for="ProfileName">Profile name:</label>
        <input asp-for="ProfileName" type="text" class="form-control form-control-lg" />
        <span asp-validation-for="ProfileName" class="text-danger"></span>
    </div>
</div>
<div class="col-12">
    <div class="form-group">
        <label for="about-me">About me:</label>
        <textarea class="form-control form-control-lg"
            name="profileBio"
            rows="4"
            id="about-me">
        </textarea>
    </div>
</div>
<div class="col-12">
    <div class="form-group">
        <button class="btn btn-primary" type="submit">Save changes</button>
    </div>
  </div>
</form>
</div>

<div class="tab-pane fade" id="security" role="tabpanel">
<div class="container"></div>


<script type="text/javascript">
    function submitProfileImage()
    {
        document.getElementById("submit-image-button").click();
    }
</script>
